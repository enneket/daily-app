# 配置说明

## 必须配置项

在使用和打包应用前，需要修改 `package.json` 中的以下信息：

### 1. 作者信息

```json
"author": {
  "name": "Your Name",           // 改为你的名字
  "email": "your.email@example.com"  // 改为你的邮箱
}
```

### 2. Linux 打包配置

```json
"linux": {
  "maintainer": "Your Name <your.email@example.com>"  // 改为你的信息
}
```

### 3. 网站配置

编辑 `site/.vitepress/config.ts`：

```typescript
export default defineConfig({
  title: '我的日报',              // 改为你的标题
  description: '记录每一天的成长',  // 改为你的描述
  base: '/daily/',               // 改为你的仓库名
  
  themeConfig: {
    socialLinks: [
      { 
        icon: 'github', 
        link: 'https://github.com/你的用户名/daily'  // 改为你的 GitHub 链接
      }
    ]
  },
  
  sitemap: {
    hostname: 'https://你的用户名.github.io/daily'  // 改为你的域名
  }
});
```

## 配置步骤

### 1. 修改 package.json

```bash
# 打开 package.json
# 找到 "author" 字段，修改为你的信息
# 找到 "linux" 下的 "maintainer"，修改为你的信息
```

### 2. 修改网站配置

```bash
# 打开 site/.vitepress/config.ts
# 修改 base、socialLinks、sitemap 等配置
```

### 3. 提交更改

```bash
git add .
git commit -m "更新配置信息"
git push
```

## 示例

### package.json 示例

```json
{
  "name": "daily-report-app",
  "version": "1.0.0",
  "author": {
    "name": "张三",
    "email": "zhangsan@example.com"
  },
  "build": {
    "linux": {
      "maintainer": "张三 <zhangsan@example.com>"
    }
  }
}
```

### config.ts 示例

```typescript
export default defineConfig({
  title: '张三的日报',
  description: '记录每一天的成长',
  base: '/my-daily-reports/',
  
  themeConfig: {
    socialLinks: [
      { 
        icon: 'github', 
        link: 'https://github.com/zhangsan/my-daily-reports'
      }
    ]
  },
  
  sitemap: {
    hostname: 'https://zhangsan.github.io/my-daily-reports'
  }
});
```

## 注意事项

1. **author 和 maintainer 必须填写**，否则 Linux 打包会失败
2. **base 必须与仓库名一致**，否则网站会显示 404
3. **邮箱格式必须正确**，格式为 `name@domain.com`
4. **修改后需要重新打包**才能生效

## 验证配置

### 验证 package.json

```bash
# 检查 JSON 格式是否正确
npm run build
```

### 验证网站配置

```bash
# 本地预览
node scripts/generate-index.js
npm run dev:site
```

### 验证打包

```bash
# 测试打包（不会真正打包，只检查配置）
npm run build
```

## 常见错误

### 错误 1: Linux 打包失败

```
Error: Please specify author 'email' in the application package.json
```

**解决**：在 package.json 中添加 author.email

### 错误 2: 网站显示 404

**原因**：base 配置不正确

**解决**：确保 base 与仓库名一致

### 错误 3: JSON 格式错误

```
Error: Unexpected token
```

**解决**：检查 JSON 格式，确保没有多余的逗号或引号

## 快速配置脚本

可以创建一个配置脚本来快速设置：

```bash
#!/bin/bash

echo "请输入你的名字："
read name

echo "请输入你的邮箱："
read email

echo "请输入仓库名（例如：daily）："
read repo

# 更新 package.json
# 更新 config.ts

echo "配置完成！"
```

## 完成

配置完成后，就可以正常使用和打包应用了！
