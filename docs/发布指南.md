# å‘å¸ƒæŒ‡å—

## å‘å¸ƒæµç¨‹

### 1. å‡†å¤‡å‘å¸ƒ

ç¡®ä¿æ‰€æœ‰åŠŸèƒ½å·²å®Œæˆå¹¶æµ‹è¯•é€šè¿‡ï¼š

```bash
# æœ¬åœ°æµ‹è¯•
npm run build
npm run package:mac  # æˆ–å…¶ä»–å¹³å°

# æµ‹è¯•å®‰è£…åŒ…
# å®‰è£…å¹¶è¿è¡Œï¼Œç¡®ä¿åŠŸèƒ½æ­£å¸¸
```

### 2. æ›´æ–°ç‰ˆæœ¬å·

ç¼–è¾‘ `package.json`ï¼š

```json
{
  "version": "1.0.0"  // æ”¹ä¸ºæ–°ç‰ˆæœ¬å·
}
```

éµå¾ªè¯­ä¹‰åŒ–ç‰ˆæœ¬è§„èŒƒï¼š
- **ä¸»ç‰ˆæœ¬å·**ï¼šä¸å…¼å®¹çš„ API ä¿®æ”¹ï¼ˆ1.0.0 â†’ 2.0.0ï¼‰
- **æ¬¡ç‰ˆæœ¬å·**ï¼šå‘ä¸‹å…¼å®¹çš„åŠŸèƒ½æ€§æ–°å¢ï¼ˆ1.0.0 â†’ 1.1.0ï¼‰
- **ä¿®è®¢å·**ï¼šå‘ä¸‹å…¼å®¹çš„é—®é¢˜ä¿®æ­£ï¼ˆ1.0.0 â†’ 1.0.1ï¼‰

### 3. æäº¤æ›´æ”¹

```bash
git add package.json
git commit -m "chore: bump version to 1.0.0"
git push
```

### 4. åˆ›å»ºå¹¶æ¨é€ tag

```bash
# åˆ›å»º tag
git tag v1.0.0

# æ¨é€ tag
git push origin v1.0.0
```

### 5. è‡ªåŠ¨æ„å»ºå’Œå‘å¸ƒ

æ¨é€ tag åï¼ŒGitHub Actions ä¼šè‡ªåŠ¨ï¼š

1. âœ… åœ¨ macOSã€Windowsã€Linux ä¸Šæ„å»º
2. âœ… æ‰“åŒ…æ‰€æœ‰å¹³å°çš„å®‰è£…åŒ…
3. âœ… åˆ›å»º GitHub Release
4. âœ… ä¸Šä¼ æ‰€æœ‰å®‰è£…åŒ…åˆ° Release
5. âœ… ç”Ÿæˆ Release Notes

æ•´ä¸ªè¿‡ç¨‹çº¦ 15-30 åˆ†é’Ÿã€‚

### 6. æ£€æŸ¥ Release

1. è®¿é—®ä»“åº“çš„ Releases é¡µé¢
2. æŸ¥çœ‹æ–°åˆ›å»ºçš„ Release
3. ç¡®è®¤æ‰€æœ‰å¹³å°çš„å®‰è£…åŒ…éƒ½å·²ä¸Šä¼ ï¼š
   - `DailyReport-1.0.0.dmg` (macOS)
   - `DailyReport Setup 1.0.0.exe` (Windows)
   - `DailyReport-1.0.0.AppImage` (Linux)
   - `daily-report-app_1.0.0_amd64.deb` (Linux)

### 7. ç¼–è¾‘ Release è¯´æ˜ï¼ˆå¯é€‰ï¼‰

GitHub Actions ä¼šè‡ªåŠ¨ç”Ÿæˆ Release Notesï¼Œä½ å¯ä»¥æ‰‹åŠ¨ç¼–è¾‘ï¼š

1. ç‚¹å‡» Release çš„ "Edit" æŒ‰é’®
2. æ·»åŠ æ›´æ–°è¯´æ˜
3. ä¿å­˜

## å‘å¸ƒç¤ºä¾‹

### é¦–æ¬¡å‘å¸ƒ (v1.0.0)

```bash
# 1. ç¡®è®¤ç‰ˆæœ¬å·
cat package.json | grep version
# "version": "1.0.0"

# 2. æäº¤
git add .
git commit -m "chore: prepare for v1.0.0 release"
git push

# 3. åˆ›å»º tag
git tag v1.0.0
git push origin v1.0.0

# 4. ç­‰å¾…æ„å»ºå®Œæˆ
# è®¿é—® https://github.com/ä½ çš„ç”¨æˆ·å/ä»“åº“å/actions

# 5. æŸ¥çœ‹ Release
# è®¿é—® https://github.com/ä½ çš„ç”¨æˆ·å/ä»“åº“å/releases
```

### Bug ä¿®å¤ç‰ˆæœ¬ (v1.0.1)

```bash
# 1. ä¿®å¤ bug
# 2. æ›´æ–°ç‰ˆæœ¬å·ä¸º 1.0.1
# 3. æäº¤å¹¶æ¨é€
git add .
git commit -m "fix: ä¿®å¤æŸä¸ªé—®é¢˜"
git push

# 4. åˆ›å»º tag
git tag v1.0.1
git push origin v1.0.1
```

### æ–°åŠŸèƒ½ç‰ˆæœ¬ (v1.1.0)

```bash
# 1. å¼€å‘æ–°åŠŸèƒ½
# 2. æ›´æ–°ç‰ˆæœ¬å·ä¸º 1.1.0
# 3. æäº¤å¹¶æ¨é€
git add .
git commit -m "feat: æ·»åŠ æ–°åŠŸèƒ½"
git push

# 4. åˆ›å»º tag
git tag v1.1.0
git push origin v1.1.0
```

## Release Notes æ¨¡æ¿

è‡ªåŠ¨ç”Ÿæˆçš„ Release Notes åŒ…å«ï¼š
- æ‰€æœ‰ commits çš„åˆ—è¡¨
- è´¡çŒ®è€…ä¿¡æ¯

ä½ å¯ä»¥æ‰‹åŠ¨ç¼–è¾‘ä¸ºï¼š

```markdown
## ğŸ‰ æ–°åŠŸèƒ½

- æ·»åŠ äº†æ—¥å†è§†å›¾
- æ”¯æŒæœç´¢åŠŸèƒ½

## ğŸ› Bug ä¿®å¤

- ä¿®å¤äº†æäº¤å¤±è´¥çš„é—®é¢˜
- ä¿®å¤äº†ç•Œé¢æ˜¾ç¤ºé”™è¯¯

## ğŸ“¦ å®‰è£…åŒ…

### macOS
- DailyReport-1.0.0.dmg

### Windows
- DailyReport Setup 1.0.0.exe

### Linux
- DailyReport-1.0.0.AppImage
- daily-report-app_1.0.0_amd64.deb

## ğŸ“ ä½¿ç”¨è¯´æ˜

è¯¦è§ [README.md](../README.md)
```

## ç‰ˆæœ¬ç®¡ç†

### æŸ¥çœ‹æ‰€æœ‰ç‰ˆæœ¬

```bash
git tag
```

### åˆ é™¤é”™è¯¯çš„ tag

```bash
# åˆ é™¤æœ¬åœ° tag
git tag -d v1.0.0

# åˆ é™¤è¿œç¨‹ tag
git push origin :refs/tags/v1.0.0
```

### æŸ¥çœ‹æŸä¸ªç‰ˆæœ¬çš„ä»£ç 

```bash
git checkout v1.0.0
```

## é¢„å‘å¸ƒç‰ˆæœ¬

å¦‚æœæƒ³å‘å¸ƒæµ‹è¯•ç‰ˆæœ¬ï¼š

```bash
# åˆ›å»ºé¢„å‘å¸ƒ tag
git tag v1.0.0-beta.1
git push origin v1.0.0-beta.1
```

åœ¨ Release é¡µé¢ä¼šæ ‡è®°ä¸º "Pre-release"ã€‚

## å‘å¸ƒæ£€æŸ¥æ¸…å•

å‘å¸ƒå‰ç¡®è®¤ï¼š

- [ ] æ‰€æœ‰åŠŸèƒ½å·²å®Œæˆ
- [ ] æ‰€æœ‰æµ‹è¯•é€šè¿‡
- [ ] æ–‡æ¡£å·²æ›´æ–°
- [ ] ç‰ˆæœ¬å·å·²æ›´æ–°
- [ ] CHANGELOG å·²æ›´æ–°ï¼ˆå¦‚æœæœ‰ï¼‰
- [ ] æœ¬åœ°æµ‹è¯•æ‰“åŒ…æˆåŠŸ
- [ ] é…ç½®ä¿¡æ¯å·²å¡«å†™ï¼ˆauthorã€email ç­‰ï¼‰

## å¸¸è§é—®é¢˜

### Q: å¦‚ä½•å–æ¶ˆå‘å¸ƒï¼Ÿ

A: åˆ é™¤ tag å’Œ Releaseï¼š

```bash
# åˆ é™¤ tag
git tag -d v1.0.0
git push origin :refs/tags/v1.0.0

# åœ¨ GitHub ä¸Šåˆ é™¤ Release
```

### Q: æ„å»ºå¤±è´¥æ€ä¹ˆåŠï¼Ÿ

A: 
1. æŸ¥çœ‹ Actions æ—¥å¿—
2. ä¿®å¤é—®é¢˜
3. åˆ é™¤æ—§ tag
4. é‡æ–°åˆ›å»º tag

### Q: å¦‚ä½•ä¿®æ”¹å·²å‘å¸ƒçš„ Releaseï¼Ÿ

A: 
1. åœ¨ GitHub Release é¡µé¢ç‚¹å‡» "Edit"
2. ä¿®æ”¹è¯´æ˜æˆ–ä¸Šä¼ æ–°æ–‡ä»¶
3. ä¿å­˜

### Q: å¯ä»¥æ‰‹åŠ¨ä¸Šä¼ å®‰è£…åŒ…å—ï¼Ÿ

A: å¯ä»¥ï¼Œåœ¨ Release é¡µé¢ç‚¹å‡» "Edit"ï¼Œç„¶åæ‹–æ‹½æ–‡ä»¶ä¸Šä¼ ã€‚

## è‡ªåŠ¨åŒ–è„šæœ¬

å¯ä»¥åˆ›å»ºä¸€ä¸ªå‘å¸ƒè„šæœ¬ `scripts/release.sh`ï¼š

```bash
#!/bin/bash

# æ£€æŸ¥å‚æ•°
if [ -z "$1" ]; then
  echo "Usage: ./scripts/release.sh <version>"
  echo "Example: ./scripts/release.sh 1.0.0"
  exit 1
fi

VERSION=$1

# æ›´æ–°ç‰ˆæœ¬å·
npm version $VERSION --no-git-tag-version

# æäº¤
git add package.json package-lock.json
git commit -m "chore: bump version to $VERSION"
git push

# åˆ›å»º tag
git tag v$VERSION
git push origin v$VERSION

echo "âœ… Release v$VERSION created!"
echo "Check: https://github.com/ä½ çš„ç”¨æˆ·å/ä»“åº“å/actions"
```

ä½¿ç”¨ï¼š

```bash
chmod +x scripts/release.sh
./scripts/release.sh 1.0.0
```

## æ€»ç»“

å‘å¸ƒæµç¨‹ï¼š
1. æ›´æ–°ç‰ˆæœ¬å·
2. æäº¤ä»£ç 
3. åˆ›å»ºå¹¶æ¨é€ tag
4. ç­‰å¾…è‡ªåŠ¨æ„å»º
5. æ£€æŸ¥ Release

å°±è¿™ä¹ˆç®€å•ï¼ğŸ‰
