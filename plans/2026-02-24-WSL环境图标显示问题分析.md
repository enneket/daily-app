# WSL 环境图标显示问题分析

## 问题描述

在 WSL (Windows Subsystem for Linux) 环境中运行 Electron 应用时，窗口图标显示为通用文档图标，而不是自定义图标。

## 环境分析

从错误日志可以看出：
- 系统：Linux (WSL)
- 错误：`Missing X server or $DISPLAY`
- 应用通过 X11 转发显示在 Windows 上

## 问题原因

1. **X11 转发限制**：WSL 中的 Electron 应用通过 X server 显示，X11 协议在传递窗口图标时可能存在限制
2. **图标格式**：X11 可能不支持 .ico 格式，需要使用 .png 格式
3. **WSLg 限制**：即使使用 WSLg，图标传递也可能不完整

## 可能的解决方案

### 方案 1：在 Windows 上直接运行
最简单的方法是在 Windows 上直接安装 Node.js 和依赖，不通过 WSL 运行。

### 方案 2：打包后测试
开发模式下的图标显示可能不准确，打包后的应用图标显示通常是正常的。

### 方案 3：使用 Windows 原生构建
在 WSL 中开发，但使用 Windows 的 Node.js 进行构建和运行。

### 方案 4：配置 X server 图标支持
某些 X server（如 VcXsrv）支持更好的图标传递，需要特定配置。

## 建议

1. 优先尝试打包应用测试：`npm run package:win`
2. 如果打包后图标正常，说明只是开发模式的显示问题
3. 考虑在 Windows 上直接运行开发环境以获得更好的体验
